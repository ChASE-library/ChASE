

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4. Parameters and Configurations &mdash; ChASE v1.3.0 documentation</title>
      <link rel="stylesheet" href="theme_overrides.css" type="text/css" />

  
    <link rel="shortcut icon" href="_static/ChASE_Logo_Favicon_RGB.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=e49d06fc"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Modules" href="module.html" />
    <link rel="prev" title="3. How to use ChASE" href="usage.html" />
     
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link href="_static/theme_overrides.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >


          
          
          <a href="index.html">
            
              <img src="_static/ChASE_Logo_RGB.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

  <div class="version-selector" style="margin: 10px 0; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 3px;">
  <label for="version-select" style="display: block; color: #fcfcfc; font-size: 12px; margin-bottom: 5px; font-weight: bold;">
    Version:
  </label>
  <select id="version-select" onchange="switchVersion(this.value)" style="width: 100%; padding: 5px; border: 1px solid #2980B9; border-radius: 3px; background: white; color: #333; font-size: 13px;"><option value="/latest/">
      latest
    </option><option value="/v1.3.0/"selected>
      v1.3.0
    </option><option value="/v1.4.0/">
      v1.4.0
    </option></select>
</div><script>
function switchVersion(url) {
  // Get current path and determine base URL
  const currentPath = window.location.pathname;
  const pathParts = currentPath.split('/').filter(p => p);
  
  // Get known versions from the select options (dynamic, not hardcoded)
  const selector = document.getElementById('version-select');
  const knownVersions = [];
  if (selector) {
    for (let option of selector.options) {
      const verName = option.text.trim();
      knownVersions.push(verName);
    }
  }
  
  let relativePath = '';
  if (pathParts.length > 0 && knownVersions.includes(pathParts[0])) {
    // We're in a versioned path, get everything after version
    relativePath = '/' + pathParts.slice(1).join('/');
  } else {
    // We're in root or unversioned, keep current path
    relativePath = currentPath;
  }
  
  // Construct new URL - handle both absolute and relative paths
  if (url.startsWith('http')) {
    // Absolute URL
    window.location.href = url;
  } else {
    // Relative URL - ensure it starts with /
    const baseUrl = url.startsWith('/') ? url : '/' + url;
    const cleanBase = baseUrl.replace(/\/$/, '');
    const cleanPath = relativePath.startsWith('/') ? relativePath : '/' + relativePath;
    window.location.href = cleanBase + cleanPath;
  }
}

// Auto-detect current version from URL and update selector
(function() {
  const currentPath = window.location.pathname;
  const pathParts = currentPath.split('/').filter(p => p);
  
  // Get known versions from select options
  const selector = document.getElementById('version-select');
  if (!selector) return;
  
  const knownVersions = [];
  for (let option of selector.options) {
    const verName = option.text.trim();
    knownVersions.push(verName);
  }
  
  if (pathParts.length > 0 && knownVersions.includes(pathParts[0])) {
    const currentVer = pathParts[0];
    // Find option matching current version
    for (let option of selector.options) {
      if (option.text.trim() === currentVer) {
        selector.value = option.value;
        break;
      }
    }
  }
})();
</script>

<style>
.version-selector select:focus {
  outline: 2px solid #2980B9;
  outline-offset: 2px;
}
</style>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">INTRODUCTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="chase.html">ChASE: an Iterative Solver for Dense Eigenproblems</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html">Versions of the library</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Licenses and Copyright</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">References and Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">USER DOCUMENTATION</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick-start.html">1. Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Installation and Setup on a Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">3. How to use ChASE</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Parameters and Configurations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-parameters">4.1. General Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chebyshev-filter">4.2. Chebyshev Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lanczos-dos-spectral-estimator">4.3. Lanczos DoS (Spectral Estimator)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-object">4.4. Configuration Object</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module.html">5. Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">6. Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API REFERENCE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">1. API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ChASE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">4. </span>Parameters and Configurations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/parameters.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parameters-and-configurations">
<span id="parameters-and-config"></span><h1><span class="section-number">4. </span>Parameters and Configurations<a class="headerlink" href="#parameters-and-configurations" title="Link to this heading"></a></h1>
<section id="general-parameters">
<h2><span class="section-number">4.1. </span>General Parameters<a class="headerlink" href="#general-parameters" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="id1">
<colgroup>
<col style="width: 14.8%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 18.5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Suggested value</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">N_</span></code></p></td>
<td><p>Rank of the matrix
<span class="math notranslate nohighlight">\(A\)</span>.</p></td>
<td></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">nev_</span></code></p></td>
<td><p>Number of desired
eigenpairs</p></td>
<td><p>No more than 20%
of the total number of
eigenvalues
(or rank of <span class="math notranslate nohighlight">\(A\)</span>)</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">nex_</span></code></p></td>
<td><p>Search space increment
such that the overall
size of the search space
is <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">nev_</span></code> +
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">nex_</span></code>.</p></td>
<td><p>In most cases 20% of
the value of
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">nev_</span></code>. Best
case scenario for
optimal convergence
is when there is a
large
spectrum gap between
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">nev_</span></code> and
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">nex_</span></code>.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">approx_</span></code></p></td>
<td><p>An optional flag
indicating whether the
user provides ChASE with
approximate eigenvectors
or uses ChASE in
isolation as a
traditional black-box
solver</p></td>
<td><p>When <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">approx_</span></code>
is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>,
ChASE expects to receive
in input two arrays
holding
approximate vectors and
values, respectively</p></td>
<td><blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</div></blockquote>
<p>(black-box solver)</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">tol_</span></code></p></td>
<td><p>An optional parameter
indicating the minimal
value for the residual
such that the
corresponding eigenpair
is declared converged.</p></td>
<td><p>As a rule of thumb a
minimum value of
<code class="docutils literal notranslate"><span class="pre">1e-08</span></code> and <code class="docutils literal notranslate"><span class="pre">1e-04</span></code>
are suggested for DP
and SP,
respectively.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1e-10</span></code> in
DP. <code class="docutils literal notranslate"><span class="pre">1e-05</span></code>
in SP.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">max_iter_</span></code></p></td>
<td><p>An optional parameter set
as to avoid that ChASE
internal while loop runs
unchecked in the rare
cases where convergence
of the desired eigenpairs
cannot be secured. Once
reached the
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">max_iter_</span></code>,
ChASE stops execution and
returns.</p></td>
<td><p>Typically ChASE does not
need more than 10
iterations even in the
most complex cases and
averages 4-5 iterations
to convergence.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">25</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="chebyshev-filter">
<h2><span class="section-number">4.2. </span>Chebyshev Filter<a class="headerlink" href="#chebyshev-filter" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="chebyshev-parameters">
<colgroup>
<col style="width: 14.8%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 18.5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Suggested value</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">deg_</span></code></p></td>
<td><p>Polynomial degree for the
Chebyshev filter. When
the value of
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">optimization_</span></code>
= <code class="docutils literal notranslate"><span class="pre">true</span></code>,
this is the <cite>initial</cite>
polynomial degree used
in only the first
subspace iteration.
Otherwise the same value
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">deg_</span></code> is used
for every vector
for each filter call.</p></td>
<td><p>When
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">optimization_</span></code>
= <code class="docutils literal notranslate"><span class="pre">true</span></code>, it is
advisable to set
to a value not larger
than <code class="docutils literal notranslate"><span class="pre">10</span></code>. If
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">optimization_</span></code>
= <code class="docutils literal notranslate"><span class="pre">false</span></code>, then it is
advised to select a
value not smaller than
<code class="docutils literal notranslate"><span class="pre">15</span></code> but not larger
than <code class="docutils literal notranslate"><span class="pre">30</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">20</span></code> in DP,
<code class="docutils literal notranslate"><span class="pre">10</span></code> in SP</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">optimization_</span></code></p></td>
<td><p>An optional flag
indicating that the
filter uses a vector of
degrees optimized for
each single filtered
vector.</p></td>
<td><p>Despite the fact that
the default value is
set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, it is
advisable to set this
flag to <code class="docutils literal notranslate"><span class="pre">true</span></code> often
as possible in order to
avoid wasting extra
FLOPs.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">deg_extra_</span></code></p></td>
<td><p>A small value used only
in combination with
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">optimization_</span></code>
= <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
<td><p>Usually a small number
never larger than <code class="docutils literal notranslate"><span class="pre">5</span></code>.
Apart for rare cases,
avoid changing the
default value.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">max_deg_</span></code></p></td>
<td><p>A parameter which avoids
that vectors with a
rather small convergence
ratio get overfiltered
entering in a regime of
numerical instability.</p></td>
<td><p>This value is a result
of practice and
experience. We suggest
to avoid setting it
below <code class="docutils literal notranslate"><span class="pre">30</span></code> and be
quite careful to set it
too high (&gt; <code class="docutils literal notranslate"><span class="pre">50</span></code>).</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">36</span></code> in DP,
<code class="docutils literal notranslate"><span class="pre">18</span></code> in SP.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="lanczos-dos-spectral-estimator">
<h2><span class="section-number">4.3. </span>Lanczos DoS (Spectral Estimator)<a class="headerlink" href="#lanczos-dos-spectral-estimator" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="lanczos-dos-parameters">
<colgroup>
<col style="width: 14.8%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 18.5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Suggested value</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">lanczos_iter_</span></code></p></td>
<td><p>In order to estimate the spectral
bounds, ChASE executes a limited
number of Lanczos steps. These
steps are then used to compute an
estimate of <span class="math notranslate nohighlight">\(\lambda_1\)</span>,
<span class="math notranslate nohighlight">\(\lambda_{nev+nex}\)</span>, and
<span class="math notranslate nohighlight">\(\lambda_N\)</span>  based on the
Density of State (DoS) algorithm.</p></td>
<td><p>ChASE does not need very
precise spectral
estimates because at
each iteration such
estimates are
automatically
improved by the
approximate spectrum
computed. For the DoS
algorithm to work
effectively without
overburdening the
eigensolver, the number
of Lanczos iteration
should be not less than
<code class="docutils literal notranslate"><span class="pre">10</span></code> but also no
more than <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">25</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">num_lanczos_</span></code></p></td>
<td><p>After having executed a number
of Lanczos steps, ChASE uses a
cheap and efficient estimator
to calculate the value of the
upper extremum of the search space.
Such an estimator uses a small
number of stochastic vectors
indicated by the variable
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">num_lanczos_</span></code>.</p></td>
<td><p>Because ChASE does not
need precise estimates
of the upper extremum
of the search space,
the number of vectors
used is quite small.
The expert user can
can change the value
to a larger number than
the default value (it
is not suggested to
use a smaller value)
and pay a higher
computing cost. It is
suggested to not
set a value for
<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">num_lanczos_</span></code>
higher than <code class="docutils literal notranslate"><span class="pre">20</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">4</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-object">
<span id="id2"></span><h2><span class="section-number">4.4. </span>Configuration Object<a class="headerlink" href="#configuration-object" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">chase::ChaseConfig&lt;T&gt;</span></code> class provides the API for configuring all ChASE
parameters programmatically. This class is accessed through the <code class="docutils literal notranslate"><span class="pre">GetConfig()</span></code>
method of any ChASE solver instance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For detailed API documentation of the <code class="docutils literal notranslate"><span class="pre">chase::ChaseConfig&lt;T&gt;</span></code> class, including
all available methods and their descriptions, please refer to the Doxygen-generated
documentation in the build directory or visit the online documentation.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage.html" class="btn btn-neutral float-left" title="3. How to use ChASE" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="module.html" class="btn btn-neutral float-right" title="5. Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, SimLab Quantum Materials.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>