// This file is a part of ChASE.
// Copyright (c) 2015-2026, Simulation and Data Laboratory Quantum Materials,
//   Forschungszentrum Juelich GmbH, Germany. All rights reserved.
// License is 3-clause BSD:
// https://github.com/ChASE-library/ChASE

#pragma once

/**
 * @file chase_config.h
 * @brief ChASE configuration header generated at build time
 * 
 * This file is automatically generated by CMake and contains the build
 * configuration options that were set when ChASE was compiled.
 * 
 * These definitions ensure that downstream users get the same configuration
 * that ChASE was built with, avoiding ABI mismatches.
 */

// ChASE version information
#define CHASE_VERSION_MAJOR @PROJECT_VERSION_MAJOR@
#define CHASE_VERSION_MINOR @PROJECT_VERSION_MINOR@
#define CHASE_VERSION_PATCH @PROJECT_VERSION_PATCH@
#define CHASE_VERSION "@PROJECT_VERSION@"

// Build configuration options
// Note: These macros may also be defined via -D flags from target properties.
// We only define them here if not already defined to avoid redefinition warnings.
#ifndef CHASE_OUTPUT
#cmakedefine CHASE_OUTPUT
#endif

#ifndef CHASE_USE_NVTX
#cmakedefine CHASE_USE_NVTX
#endif

#ifndef ENABLE_MIXED_PRECISION
#cmakedefine ENABLE_MIXED_PRECISION
#endif

#ifndef QR_DOUBLE_PRECISION
#cmakedefine QR_DOUBLE_PRECISION
#endif

#ifndef RR_DOUBLE_PRECISION
#cmakedefine RR_DOUBLE_PRECISION
#endif

#ifndef ChASE_DISPLAY_COND_V_SVD
#cmakedefine ChASE_DISPLAY_COND_V_SVD
#endif

#ifndef CHASE_SAVE_RESIDUALS
#cmakedefine CHASE_SAVE_RESIDUALS
#endif

#ifndef CHASE_ENABLE_GPU_RESIDENT_LANCZOS
#cmakedefine CHASE_ENABLE_GPU_RESIDENT_LANCZOS
#endif

#ifndef XGEEV_EXISTS
#cmakedefine XGEEV_EXISTS
#endif

// Feature detection (populated by CMake based on found dependencies)
#ifndef HAS_MPI
#cmakedefine HAS_MPI
#endif

#ifndef HAS_CUDA
#cmakedefine HAS_CUDA
#endif

#ifndef HAS_NCCL
#cmakedefine HAS_NCCL
#endif

#ifndef HAS_SCALAPACK
#cmakedefine HAS_SCALAPACK
#endif

/**
 * @brief Check if ChASE was built with MPI support
 */
#ifdef HAS_MPI
  #define CHASE_HAS_MPI_SUPPORT 1
#else
  #define CHASE_HAS_MPI_SUPPORT 0
#endif

/**
 * @brief Check if ChASE was built with GPU support
 */
#ifdef HAS_CUDA
  #define CHASE_HAS_GPU_SUPPORT 1
#else
  #define CHASE_HAS_GPU_SUPPORT 0
#endif

/**
 * @brief Check if ChASE was built with NCCL support
 */
#ifdef HAS_NCCL
  #define CHASE_HAS_NCCL_SUPPORT 1
#else
  #define CHASE_HAS_NCCL_SUPPORT 0
#endif

/**
 * @brief Check if ChASE was built with distributed memory support
 */
#ifdef HAS_SCALAPACK
  #define CHASE_HAS_DISTRIBUTED_SUPPORT 1
#else
  #define CHASE_HAS_DISTRIBUTED_SUPPORT 0
#endif
